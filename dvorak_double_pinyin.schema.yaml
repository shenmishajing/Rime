# Rime schema
# encoding: utf-8

schema:
  schema_id: dvorak_double_pinyin
  name: dvorakåŒæ‹¼
  version: "0.01"
  author:
    - éƒ‘æ–‡æµ© <shenmishajing@gmail.com>
  description: |
    dvorak åŒæ‹¼æ–¹æ¡ˆ

switches:
  - name: ascii_mode
    reset: 0
    # states: [ ä¸­æ–‡, è‹±æ–‡ ]
  - name: emoji_suggestion
    reset: 0
    states: [ "ğŸˆšï¸ï¸\uFE0E", "ğŸˆ¶ï¸ï¸\uFE0F" ]
  - name: simplification
    reset: 1
    # states: [ ç¹, ç®€ ]
  - name: full_shape
    reset: 0
    # states: [ åŠè§’, å…¨è§’ ]
  - name: ascii_punct
    reset: 0
    # states: [ ã€‚ï¼Œ, ï¼ï¼Œ ]

engine:
  processors:
    - ascii_composer
    - recognizer
    - key_binder
    - speller
    - punctuator
    - selector
    - navigator
    - express_editor
  segmentors:
    - ascii_segmentor
    - matcher
    - abc_segmentor
    - punct_segmentor
    - fallback_segmentor
  translators:
    - punct_translator
    - reverse_lookup_translator
    - script_translator
  filters:
    - simplifier
    - simplifier@emoji_suggestion
    - uniquifier

speller:
  alphabet: zyxwvutsrqponmlkjihgfedcba  # å‘ƒï¼Œå€’èƒŒå­—æ¯è¡¨å®Œå…¨æ˜¯å€‹äººå–œå¥½
  delimiter: " '"  # éš”éŸ³ç¬¦è™Ÿç”¨ã€Œ'ã€ï¼›ç¬¬ä¸€ä½çš„ç©ºç™½ç”¨ä¾†è‡ªå‹•æ’å…¥åˆ°éŸ³ç¯€é‚Šç•Œè™•
  auto_select: true
  auto_select_unique_candidate: true
  algebra:  # æ‹¼å¯«é‹ç®—è¦å‰‡ï¼Œé€™å€‹çº”æ˜¯å¯¦ç¾é›™æ‹¼æ–¹æ¡ˆçš„é‡é»ã€‚å¯«æ³•æœ‰å¾ˆå¤šç¨®ï¼Œç•¶ç„¶ä¹Ÿå¯ä»¥æŠŠå››ç™¾å¤šå€‹éŸ³ç¯€ç¢¼ä¸€æ¢ä¸€æ¢åœ°åˆ—èˆ‰
    - erase/^xx$/             # ç¢¼è¡¨ä¸­æœ‰å¹¾å€‹æ‹¼éŸ³ä¸æ˜çš„å­—ï¼Œç·¨ç¢¼æˆxxäº†ï¼Œæ¶ˆæ»…ä»–
    - derive/^([jqxy])u$/$1v/
    - xform/^zh/O/            # æ›¿æ›è²æ¯éµï¼Œç”¨å¤§å¯«ä»¥é˜²èˆ‡åŸæœ‰çš„å­—æ¯æ··æ·†
    - xform/^ch/A/
    - xform/^sh/E/
    - xform/^([aoe].*)$/U$1/  # æ·»ä¸Šå›ºå®šçš„é›¶è²æ¯uï¼Œå…ˆæ¨™è¨˜çˆ²å¤§å¯« U
    - xform/ei$/C/            # æ›¿æ›éŸ»æ¯éµ
    - xform/ian$/G/           # â€»2
    - xform/er$/U/            # éŸ³ç¯€erç¾åœ¨è®Šçˆ²ORäº†
    - xform/iu$/J/            # 
    - xform/[iu]ang$/L/       # â€»1
    - xform/ing$/Z/
    - xform/uo$/O/
    - xform/uan$/M/           # â€»3
    - xform/i?ong$/P/
    - xform/[iu]a$/W/
    - xform/en$/N/
    - xform/eng$/R/
    - xform/ang$/S/           # æª¢æŸ¥ä¸€ä¸‹åœ¨æ­¤ä¹‹å‰æ˜¯å¦å·²è½‰æ›éäº†å¸¶ä»‹éŸ³çš„angï¼›å¥½ï¼Œâ€»1è™•æœ‰äº†
    - xform/an$/H/            # å¦‚æœâ€»2ã€â€»3é‚„ç„¡æœ‰å‡ºç¾åœ¨ä¸Šæ–‡ä¸­ï¼Œæ‡‰è©²æŠŠä»–å€‘æåˆ°æœ¬è¡Œä¹‹å‰
    - xform/iao$/F/           # å°â€”â€”åƒé€™æ¨£è®“iaoæå‰å‡ºå ´
    - xform/ao$/D/
    - xform/in$/Q/       
    - xform/uai$/Z/           # è®“uaiæå‰å‡ºå ´
    - xform/ai$/T/
    - xform/ie$/K/
    - xform/ou$/Y/
    - xform/un$/B/
    - xform/[uv]e$/X/
    - xform/ui$/V/
    - xlit/QWERTYUIOPASDFGHJKLZXCVBNM/qwertyuiopasdfghjklzxcvbnm/  # æœ€å¾ŒæŠŠé›™æ‹¼ç¢¼å…¨éƒ¨è®Šå°å¯«

translator:
  dictionary: luna_pinyin.extended    # èˆ‡ã€æœ™æœˆæ‹¼éŸ³ã€‘å…±ç”¨è©å…¸
  prism: dvorak_double_pinyin    # prism è¦ä»¥æœ¬è¼¸å…¥æ–¹æ¡ˆçš„åç¨±ä¾†å‘½åï¼Œä»¥å…æŠŠæœ™æœˆæ‹¼éŸ³çš„æ‹¼å¯«æ˜ å°„è¡¨è¦†è“‹æ‰
  enable_sentence: true
  enable_user_dict: true      #å¼€å¯è°ƒé¢‘
  db_class: "tabledb"
  preedit_format:             # é€™æ®µä»£ç¢¼ç”¨ä¾†å°‡è¼¸å…¥çš„é›™æ‹¼ç¢¼åè½‰çˆ²å…¨æ‹¼é¡¯ç¤ºï¼›å¾…è¦‹é›™æ‹¼ç¢¼çš„å¯ä»¥æŠŠé€™æ®µæ‹¿æ‰
    - xform/uu/er/
    - xform/u(\w)/0$1/        # é›¶è²æ¯å…ˆæ”¹çˆ²0ï¼Œä»¥æ–¹ä¾¿å¾Œé¢çš„è½‰æ›
    - xform/(\w)c/$1ei/       # é›™æ‹¼ç¬¬äºŒç¢¼è½‰æ›çˆ²éŸ»æ¯
    - xform/(\w)n/$1en/       # æå‰è½‰æ›é›™æ‹¼ç¢¼ n å’Œ gï¼Œå› çˆ²è½‰æ›å¾Œçš„æ‹¼éŸ³è£å°±å¿«è¦å‡ºç¾é€™å…©å€‹å­—æ¯äº†ï¼Œé‚£æ™‚å°‡é›£ä»¥åˆ†è¾¨å‡ºé›™æ‹¼ç¢¼
    - xform/(\w)g/$1ian/      # ç•¶ç„¶ä¹Ÿå¯ä»¥æ¡å–äº‹å…ˆå°‡é›™æ‹¼ç¢¼è®Šçˆ²å¤§å¯«çš„è¾¦æ³•ä¾†èˆ‡è½‰æ›éçš„æ‹¼éŸ³åšå€åˆ†ï¼Œå¯èª°è®“æˆ‘æ˜¯é«˜æ‰‹å‘¢
    - xform/(\w)b/$1un/       
    - xform/(\w)r/$1eng/      
    - xform/(\w)j/$1iu/  # å°æ‡‰å¤šç¨®éŸ»æ¯çš„é›™æ‹¼ç¢¼ï¼ŒæŒ‰æ­é…çš„è²æ¯åšå€åˆ†ï¼ˆæœ€å¥½åˆ¥ç”¨æ’é™¤å¼å¦‚ [^o]r å®¹æ˜“å‡ºç‹€æ³ï¼‰
    - xform/([nljqx])l/$1iang/
    - xform/(\w)l/$1uang/       # ä¸Šä¸€è¡Œå·²ç¶“æŠŠå°æ‡‰åˆ° iang çš„é›™æ‹¼ç¢¼ t æ¶ˆæ»…ï¼Œæ–¼æ˜¯é€™è£ä¸ç”¨å†åˆ—èˆ‰ç›¸é…çš„è²æ¯
    - xform/([bpmydtnljqx])z/$1ing/
    - xform/(\w)z/$1uai/
    - xform/([dtnlgkhaeorzcs])o/$1uo/
    - xform/(\w)m/$1uan/
    - xform/([jqx])p/$1iong/
    - xform/(\w)p/$1ong/
    - xform/(\w)q/$1in/
    - xform/([gkhaeo])w/$1ua/
    - xform/(\w)w/$1ia/
    - xform/(\w)s/$1ang/
    - xform/(\w)h/$1an/
    - xform/(\w)d/$1ao/       # é»˜é»˜æª¢æŸ¥ï¼šé›™æ‹¼ç¢¼ o å·²ç¶“è½‰æ›éäº†
    - xform/(\w)t/$1ai/
    - xform/(\w)f/$1iao/
    - xform/(\w)k/$1ie/
    - xform/(\w)y/$1ou/
    - xform/([nljqxy])v/$1Ã¼/   # é€™æ¨£çº”æ˜¯æ¼¢èªæ‹¼éŸ³ :-)
    - xform/(\w)v/$1ui/
    - xform/([nl])x/$1ve/
    - xform/([jqxy])x/$1ue/
    - "xform/(^|[ '])o/$1zh/"  # å¾©åŸè²æ¯ï¼ŒéŸ³ç¯€é–‹å§‹è™•çš„é›™æ‹¼å­—æ¯oæ”¹å¯«çˆ²zhï¼›å…¶ä»–ä½ç½®çš„æ‰çœŸæ­£æ˜¯o
    - "xform/(^|[ '])a/$1ch/"
    - "xform/(^|[ '])e/$1sh/"
    - xform/0(\w)/$1/          # å¥½äº†ï¼Œç¾åœ¨å¯ä»¥æŠŠé›¶è²æ¯æ‹¿æ‰å•¦

# reverse_lookup:
#   dictionary: stroke
#   enable_completion: true
#   prefix: "`"
#   suffix: "'"
#   tips: ã€”ç­†ç•«ã€•
#   preedit_format:
#     - xlit/hspnz/ä¸€ä¸¨ä¸¿ä¸¶ä¹™/
#   comment_format:
#     - xform/([nl])v/$1Ã¼/

# reverse_lookup:
#   dictionary: wubixinshiji
#   prefix: "`"
#   tips: ã€”äº”ç¬”ã€•
#   preedit_format:
#     - "xlit|abcdefghijklmnopqrstuvwxy|å·¥å­åˆå¤§æœˆåœŸç‹ç›®æ°´æ—¥å£ç”°å±±å·²ç«ä¹‹é‡‘ç™½æœ¨ç¦¾ç«‹å¥³äººå¹ºè¨€|"
#   comment_format:
#     - xform/([nl])v/$1Ã¼/

punctuator:
  import_preset: default

key_binder:
  import_preset: default

recognizer:
  import_preset: default
  patterns:
    reverse_lookup: "`[a-z]*'?$"

emoji_suggestion:
  opencc_config: emoji.json
  option_name: emoji_suggestion
  tips: all
